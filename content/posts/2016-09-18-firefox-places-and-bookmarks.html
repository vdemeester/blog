+++
title="Firefox hidden feature ‚Äî places in bookmarks"
date="2016-09-19"
categories=["configurations"]
tags=["firefox","place","bookmark","hidden","tips"]
lang="fr"
+++
<p>
Je r√©alise que j'utilise Firefox depuis bien plus de 10 ans maintenant
(on doit √™tre √† minimum 15 ans en fait‚Ä¶). Et je me souviens d'un temps
o√π je souhaitais rendre mes <i>bookmarks</i> (marque-pages üëº)
dynamique. Apr√®s tout ils existent de base dans Firefox (e.g. <code>Most
visited</code>), il doit donc √™tre possible d'en faire soit m√™me.
</p>

<p>
Il fut un temps o√π c'√©tait facile √† mettre en place ‚Äî ouvrir la
gestion des marques pages, chercher quelque chose et <i>cliquer</i> sur le
bouton <code>save</code> pour sauvegarder cette recherche en tant de bookmark
dynamique.
</p>

<p>
<span class="underline">Note</span>: comme j'avais grave lutt√© √† l'√©poque, et que j'ai encore lutt√©
cette fois ci, cet article va me servir de pense-b√™te pour le futur.
</p>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Places</h2>
<div class="outline-text-2" id="text-1">
<p>
C'est le petit nom que poss√®de cette fonctionnalit√© dans le c≈ìur de
Firefox. C'est un nom relativement commun, du coup √ßa n'aide pas trop
la recherche d'information‚Ä¶ Le meilleur endroit pour se documenter
reste alors le <a href="https://developer.mozilla.org">Mozilla Developer Network</a>‚Ä¶ 
</p>

<p>
Et ce qu'on peut lire sur cette <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/Places">page</a> c'est :
</p>

<blockquote>
<p>
Places is the bookmarks and history management system introduced in
Firefox 3. It offers increased flexibility and complex querying to
make handling the places the user goes easier and more
convenient. It also includes new features including favicon storage
and the ability to annotate pages with arbitrary information.
</p>
</blockquote>

<p>
C'est donc un m√©canisme interne qui permet d'annoter des pages
(bookmarks, history, ‚Ä¶) et surtout un <i>requ√™tage</i> plus complexe et
flexible que le syst√®me pr√©c√©dent. On peut noter √©galement que c'est
arriv√© en version 3, et qu'√† la date du jour, la version courante de
Firefox est la 48. En esp√©rant donc que ce soit toujours le syst√®me en
place (<i>spoiler alert: √ßa a l'air d'√™tre le cas</i>).
</p>


<div class="figure">
<p><img src="images/2016/firefox-place-awesomebar-example.png" alt="firefox-place-awesomebar-example.png" />
</p>
<p><span class="figure-number">Figure 1:</span> An example of places usage in the awesome bar</p>
</div>

<p>
Les petits <i>encarts</i> en noir ci-dessus sont un exemple de ces
<i>places</i>. Ici il s'agit des <b>tags</b> qui ont √©t√©s apposer sur les
bookmarks ; on voit d'ailleurs que ce sont des bookmarks puisqu'ils
ont une petite √©toile √† c√¥t√© du joli petit <code>favicon</code>. Firefox a pris
les termes que j'ai √©crit dans la barre d'url et √† faire une recherche
dans les <i>places</i> suivant diff√©rents crit√®res (l'url, les tags pour
les bookmarks, ‚Ä¶).
</p>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">Places dans les bookmarks</h2>
<div class="outline-text-2" id="text-2">
<p>
L'id√©e est d'utiliser cette fonctionnalit√© pour faire des bookmarks
dynamique. Pour poser un peu de contexte, j'utilise surtout la
bookmark toolbar pour acc√©der √† des pages dont j'ai besoin (au hasard,
le webmail du boulot, une page pr√©cise d'issues sur github, des pages
de guide/r√©f√©rence/manuel sur des outils que j'utilise‚Ä¶) et √©galement
en mode <i>read that later</i>.
</p>


<div class="figure">
<p><img src="images/2016/firefox-place-bookmark-toolbar.png" alt="firefox-place-bookmark-toolbar.png" />
</p>
<p><span class="figure-number">Figure 2:</span> Ma <i>bookmark</i> toolbar</p>
</div>

<p>
Par exemple, dans mon dossier <code>inbox</code>, il y a plusieurs sous-dossiers
(en fait des dossiers dynamique, mais j'y reviendrais plus tard),
genre <code>docker</code>, <code>nix</code>, <code>golang</code>, <code>java</code>, etc. Tout ce qui <i>tra√Æne</i>
dans <code>inbox</code> est √† lire ou √† trier (<code>inbox</code> se r√©f√®re un peu √† ce que
l'on peut voir avec GTD). Chaque sous dossier √©tait une sorte de
<i>filtre</i> par projet, langage ou /whatever/‚Ä¶
</p>

<p>
Nous allons donc ruser un peu et utiliser les <i>places</i> dans nos
bookmarks pour en faire des dossiers dynamique, √† l'instar de <code>Most
Visited</code>. Pour se faire, il faut d√©j√† trouver un peu de documentation
sur l'utilisation de ces fameuses <i>places</i> au sein de bookmarks ‚Äî et
√ßa p√®che un peu‚Ä¶ Toujours sur le <a href="https://developer.mozilla.org">Mozilla Developer Network</a>, une page
<i>un peu cach√©</i> nous r√©v√®le quelques informations : <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/Places/Places_query_URIs">Places query URIs</a>.
</p>

<blockquote>
<p>
You can use a <code>place</code> URI as a bookmark. For example, if you right-click
on the toolbar and choose "New Bookmark," you can enter a place URI
there to create a new query on your toolbar that, when clicked, will
reveal a popup containing the results of the query.
</p>
</blockquote>

<p>
Victoire <code>\o/</code>, il <i>suffit</i> de cr√©er un bookmark avec comme <code>URI</code>
une <code>place:‚Ä¶</code> URI et c'est gagn√©. Ainsi, un bookmark avec comme <code>URI</code>
<code>place:terms=nixos</code> me retournera un dossier dynamique  qui contiens
tous les liens (<i>history</i>, <i>bookmarks</i>, ‚Ä¶) qui contiennent le mot
<code>nixos</code> ‚Äî en gros l'√©quivalent de ce que nous aurions si nous tapions
<code>nixos</code> dans la <i>awesomebar</i>.
</p>

<p>
Si l'on regarde d'un peu plus pr√®s <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/Places/Places_query_URIs">Places query URIs</a>, il y a une
longue liste de param√®tres possible. Il y en a pour presque tous les
go√ªts : le temps (utile pour afficher l'historique, mais pas trop),
les visites, le type de <i>place</i> (<i>bookmark</i>, <i>history</i>, ‚Ä¶), le
domaine de l'√©l√©ment, le dossier dans lequel il se trouve, l'<code>URI</code>,
les tags‚Ä¶ j'en passe et des meilleurs.
</p>

<p>
Si par exemple, je souhaite n'afficher que les pages visit√©s
aujourd'hui, tri√©s par nombre de visites et limit√©s √† 10 r√©sultats, je
peux mettre comme <code>URI</code> :
</p>

<div class="org-src-container">

<pre class="src src-http">place:queryType=0&amp;sort=8&amp;maxResults=10&amp;beginTimeRef=1&amp;beginTime=0
</pre>
</div>

<p>
Et on obtiens √ßa :
</p>


<div class="figure">
<p><img src="images/2016/firefox-place-most-visited-today.png" alt="firefox-place-most-visited-today.png" />
</p>
</div>

<p>
Mais revenons √† nos moutons, moi ce que je souhaite, c'est faire des
dossiers dynamique par <code>tag</code>, i.e. les tags que l'on peut setter
lorsqu'on ajoute un bookmark. Et √ßa tombe bien, un des param√®tres
s'appelle <code>tag</code> et fait exactement √ßa. Je souhaite √©galement pouvoir
faire des <code>ET</code> sur mes tags ‚Äî par exemple, dans mon dossier
<code>inbox/nixos</code> je veux tous les bookmarks qui sont taggu√©s <code>inbox</code> <b>et</b>
<code>nixos</code>. Et c'est simple, il suffit de lui donner les deux.
</p>

<div class="org-src-container">

<pre class="src src-http">place:tag=inbox&amp;tag=nixos
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">R√©trospective</h2>
<div class="outline-text-2" id="text-3">
<p>
Voil√†, vous avez maintenant tout ce qu'il faut pour faire des dossiers
dynamiques dans vos bookmarks Firefox et vous organiser au mieux (
<i>ou pas</i>). Quelques points √† noter :
</p>

<ul class="org-ul">
<li>L'ic√¥ne du dossier dynamique ‚Äî ou m√™me la fonctionnalit√© √†
proprement parler= n'appara√Æt pas de suite. Il faut parfois
red√©marrez Firefox pour profiter du nouveau dossier dynamique.
</li>
<li>Une fois que le bookmark est vu comme un dossier dynamique, il n'est
plus possible d'√©diter l'<code>URI</code>. Si vous voulez en changer un, il
faut tout bonnement le recr√©er.
</li>
<li>Bien que ce soit une fonctionnalit√© que je trouve g√©niale, il y a
peu de <i>presse</i> sur le sujet et √† mon grand √©tonnement, aucun plugin
pour g√©rer √ßa plus proprement. Est-ce le signe qu'un jour ce ne sera
plus supporter, je n'en ai aucune id√©e.
</li>
<li>Un point tr√®s positif si vous utilisez Firefox Sync : √ßa marche bien
(pas vraiment √©tonnant en fait), ces dossiers se synchronise comme
le reste et seront donc √† disponible quelque soit l'appareil sur lequel
vous utilisez firefox <code>\o/</code>.
</li>
</ul>
</div>
</div>
